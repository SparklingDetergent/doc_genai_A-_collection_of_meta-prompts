ドメイン知識のテンプレート化。これを１つの会話セッション内で完結するようにワークフローを組んでください。
このワークフローは、ユーザーから与えられたドメイン 知識を分解し、生成AIが有していないドメイン知識が含まれているかを見極めて、生成AIが有していないドメイン知識について、生成AIとの別の会話セッションでコンテキストに含めて再利用できるように、コンパクトにテンプレート化しておくことを目的としています。
このワークフローを用いるタイミングは、任意の会話セッションの途中です。それまでの会話の内容をもとに、上記のドメイン 知識 振り分け テンプレート化ワークフローを行います。
このワークフローの成果物としては、第一にその会話のセッションでやり取りされた記録の概要、第二に生成AIが有していたドメイン 知識と有していないドメイン知識の生成AI自身による見分け、第三に生成AIが有していないドメイン 知識の テンプレート化（この部分だけ バッククオート 4つで囲みます）。
テンプレート化されたドメイン知識を、ユーザーがコピーし別の会話 セッションで再利用することができます。


`````
# ドメイン知識テンプレート化ワークフロー

## ワークフロー概要図

```
会話セッション中 → [実行トリガー] → [会話内容の棚卸し] → [知識の分類] → [テンプレート化] → 再利用可能な成果物
                                            ↓                ↓              ↓
                                    [概要生成]      [既知/未知の判定]   [コンパクト化]
                                                                          ↓
                                                              ````で囲んだコピー可能形式
```

---

## プロンプトテンプレート群

### 【テンプレート1】ワークフロー起動プロンプト（ユーザー用）

```markdown
# ドメイン知識のテンプレート化を実行

これまでの会話内容を分析し、以下を生成してください：

1. **会話の概要**（何について話したか）
2. **あなた(AI)が既に持っていた知識 vs 私が提供した新しい知識の分類**
3. **新しいドメイン知識を別セッションで再利用できる形式にテンプレート化**（バッククオート4つで囲む）

目的：私が提供した専門知識を、今後の別の会話で効率的に再利用できるようにする。
```

---

### 【テンプレート2】AI実行用の内部プロンプト（参考）

> ※これはAIが内部的に従うべき構造です。ユーザーは上記のシンプルな起動プロンプトだけで十分です。

```markdown
# ドメイン知識テンプレート化タスク

## あなたの役割
会話履歴を分析し、ユーザー固有のドメイン知識を抽出・構造化する知識管理スペシャリスト

## 実行内容

### ステップ1: 会話内容の棚卸し
- 会話の主題・トピックを特定
- 扱われた具体的な事例・用語・プロセスをリスト化
- ユーザーの意図（何を達成しようとしていたか）を明確化

### ステップ2: 知識の分類
以下の2つに明確に分類：

**A. 私(AI)が既に保有していた知識**
- 一般的な概念・理論
- 公開されている標準的な手法
- 広く知られた業界知識
- 例：「プロンプトエンジニアリングの基本原則」「マークダウン記法」

**B. ユーザーが提供した新規/固有のドメイン知識**
- 組織固有のルール・用語・プロセス
- 特定の業界・現場でのみ通用する慣習
- ユーザー独自の定義・分類体系
- 具体的な事例・データ・制約条件
- 例：「社内の承認フロー3段階ルール」「X業界の暗黙知」

### ステップ3: テンプレート化
**B. に分類された知識のみ**を以下の形式で構造化：

````
# [ドメイン名/トピック名]

## 概要
[このドメイン知識が何に関するものか、1-2文で]

## 重要な前提・制約
- [制約1]
- [制約2]

## 専門用語・定義
- **[用語1]**: [説明]
- **[用語2]**: [説明]

## プロセス・ルール
[該当する場合、手順や判断基準を記載]

## 具体例・パターン
[実際の適用例があれば簡潔に]

## 注意点
[誤解されやすい点、例外ケースなど]
````

## 制約・条件
- **簡潔性**: 冗長な説明を避け、最小限の情報で再現可能にする
- **自己完結性**: このテンプレート単体で理解できるようにする
- **汎用性**: 他の会話でも適用できる抽象度を保つ
- **具体性**: 曖昧な表現を避け、実行可能なレベルまで具体化

## 出力形式

### 1. 会話の概要
[主題・扱ったトピック・ユーザーの目的を3-5文で要約]

### 2. 知識の分類結果

#### 【AI既知の知識】
- [項目1]
- [項目2]
- ...

#### 【ユーザー提供の新規ドメイン知識】
- [項目1]
- [項目2]
- ...

### 3. テンプレート化されたドメイン知識

````
[上記の構造に従ったテンプレート本体]
````

## 品質基準
- [ ] 会話の本質が概要に反映されているか
- [ ] 既知/未知の分類は正確か（過小評価・過大評価していないか）
- [ ] テンプレートは他の会話で即座に使えるか
- [ ] 不要な一般論が混入していないか
- [ ] バッククオート4つで正しく囲まれているか
```

## ワークフロー対象
これまでの会話履歴

`````
---

## 使用ガイド

### 実行タイミング
会話セッション中、以下のような状況で実行してください：

- 専門的な知識を複数回説明した後
- プロジェクト固有のルールを共有した後
- 「この内容を今後も使いたい」と感じたとき
- 会話が一段落したタイミング

### 実行方法

1. **ユーザー側の操作**
   ```
   「これまでの会話内容をドメイン知識としてテンプレート化して」
   ```
   または、上記【テンプレート1】をコピー&ペーストで送信

2. **AI側の処理**
   - 会話履歴全体を分析
   - 3つの成果物を生成（概要・分類・テンプレート）

3. **ユーザー側の保存**
   - ````で囲まれた部分をコピー
   - 別ファイルやノートに保存
   - 次回の会話で冒頭に貼り付け

### カスタマイズのポイント

#### より詳細な分類が必要な場合
「知識の分類」セクションに以下を追加：
- **C. 部分的に既知だが、具体的適用方法が新規**

#### 複数トピックがある場合
「テンプレート化」を複数生成するよう指示：
```
「トピックごとに分けて、複数のテンプレートを作成してください」
```

#### 特定の形式で保存したい場合
出力形式を指定：
```
「YAML形式で出力」「JSON形式で出力」
```

---

## 実装例

### ケース1：プロジェクト管理ルールの抽出

**ユーザー入力**
```
これまで説明した「3段階承認フロー」と「週次レビュー基準」を
テンプレート化してください。
```

**AI出力イメージ**
```
### 1. 会話の概要
プロジェクト管理における社内承認プロセスと品質レビュー基準について説明。
3段階承認フローの詳細と、週次レビューでチェックすべき5項目を定義。

### 2. 知識の分類結果

#### 【AI既知の知識】
- プロジェクト管理の一般的なフレームワーク
- 承認プロセスの標準的な考え方
- レビューの重要性

#### 【ユーザー提供の新規ドメイン知識】
- 3段階承認フローの具体的な順序と権限者
- 週次レビューの5項目チェックリスト
- 各段階での承認基準（金額閾値など）

### 3. テンプレート化されたドメイン知識

````
# 社内プロジェクト管理ルール

## 概要
当社の標準的なプロジェクト承認プロセスと週次品質レビュー基準

## 3段階承認フロー
1. **初期承認**（チームリーダー）: 予算50万円以下
2. **中間承認**（部門長）: 予算50万円超〜500万円
3. **最終承認**（役員会）: 予算500万円超

## 週次レビュー5項目
- [ ] 進捗率が計画±10%以内
- [ ] リスク管理表の更新
- [ ] ステークホルダー報告完了
- [ ] 予算執行状況の確認
- [ ] 次週タスクの明確化

## 注意点
- 緊急案件は部門長の判断で初期承認スキップ可
- 週次レビューは金曜15時までに完了必須
````
```

---

### ケース2：業界用語の整理

**ユーザー入力**
```
医療機器開発で使った用語と規制要件をまとめておきたい
```

**AI出力イメージ**
```
### 3. テンプレート化されたドメイン知識

````
# 医療機器開発ドメイン知識

## 概要
クラスII医療機器の開発における規制用語と承認プロセス

## 専門用語・定義
- **QMS**: Quality Management System（ISO 13485準拠）
- **DHF**: Design History File（設計履歴ファイル）
- **V&V**: Verification & Validation（検証と妥当性確認）

## 規制要件
- PMDAへの承認申請は開発完了の6ヶ月前に開始
- 臨床試験は最低50症例、追跡期間3ヶ月
- リスクマネジメントはISO 14971に準拠

## プロセス
1. コンセプト策定 → DHF作成開始
2. プロトタイプ開発 → V&V計画策定
3. 臨床試験 → PMDA相談
4. 承認申請 → 製造販売承認取得

## 注意点
- クラス分類の判断は初期段階で確定させる
- PMDAとの事前相談は必須（3回程度想定）
````
```

---

## よくある質問

**Q: 会話の途中で実行しても大丈夫？**  
A: はい。むしろ「ここまでの内容を固めたい」と感じたタイミングでの実行を推奨します。

**Q: テンプレートが長すぎる/短すぎる場合は？**  
A: 「もっと簡潔に」「具体例を増やして」など追加指示を出してください。

**Q: 複数トピックが混在している場合は？**  
A: 「トピックごとに分割してテンプレート化」と指示すると、複数の````ブロックが生成されます。

**Q: 再利用時の使い方は？**  
A: 新しい会話の冒頭で以下のように送信：
```
以下は前回の会話で使用したドメイン知識です。
この知識を前提に、今回は[新しいタスク]について相談したいです。

````
[保存しておいたテンプレート]
````
```

---

## 品質チェックリスト

実行後、以下を確認してください：

- [ ] 会話の本質が概要に反映されている
- [ ] 「AI既知」と「ユーザー提供」の分類が適切
- [ ] テンプレートは自己完結的で理解可能
- [ ] 不要な一般論が含まれていない
- [ ] バッククオート4つで正しく囲まれている
- [ ] 他の会話でそのまま使えるレベルの具体性がある

---

これで、会話セッション内で完結するドメイン知識のテンプレート化ワークフローが完成です。**【テンプレート1】をコピーして実行するだけ**で、即座に再利用可能な知識ベースが構築できます。


`````

