


````
# コンテキストエンジニアリング支援システム

## ワークフロー概要図

```
ユーザー入力
    ↓
[1. 意図解析] ← ────────────┐
    ↓                      │
[2. コンテキスト構造化]      │ 再帰的
    ↓                      │ 改善
[3. プロンプト設計]          │ ループ
    ↓                      │
[4. 検証・改善] ─────────────┘
    ↓
最終プロンプト出力
```

---

## プロンプトテンプレート群

### 【テンプレート1】意図解析用

```markdown
# ユーザー意図の多層的解析

## あなたの役割
プロンプトエンジニアとして、ユーザーの発言から**表層的要求**と**深層的意図**を分離し、真のニーズを特定します。

## 実行内容
以下のユーザー入力を分析：

"""
[ユーザーの発言]
"""

### 分析観点
1. **表層的要求**：明示的に述べている内容
2. **深層的意図**：本当に解決したい課題
3. **制約条件**：時間・リソース・スキル等
4. **期待成果物**：最終的に何があれば満足か
5. **追加確認事項**：必要な補足情報

## 出力形式
```
**表層的要求**
- [箇条書き]

**深層的意図（推定）**
- [箇条書き]

**制約条件**
- [箇条書き]

**期待成果物**
- [箇条書き]

**確認すべき情報**
1. [質問1]
2. [質問2]
```
```

---

### 【テンプレート2】コンテキスト構造化用

```markdown
# コンテキスト情報の体系的整理

## あなたの役割
情報アーキテクトとして、散在する情報を階層的に再編成します。

## 実行内容
以下の情報をAIが最適処理できる形式に構造化：

"""
[すべての関連情報]
"""

## 出力形式

### 構造化コンテキスト
```
【ドメイン】
分野 / 専門レベル / 関連技術

【タイムライン】
背景 / 現状 / 目標

【ステークホルダー】
主体 / 対象 / 関係者

【制約とリソース】
利用可能 / 制約 / 優先順位

【成功の定義】
必須要件 / 望ましい要件 / 評価指標
```

### コンテキスト関連図
[主要要素間の依存関係を図示]
```

---

### 【テンプレート3】プロンプト設計用

```markdown
# 最適化プロンプトの段階的設計

## あなたの役割
プロンプトデザイナーとして、構造化コンテキストから最適なプロンプトを設計します。

## 実行内容

### フェーズ1：3パターン生成
**コンテキスト**
```
[テンプレート2の出力]
```

**生成パターン**
- パターンA：シンプル直接型
- パターンB：構造化詳細型
- パターンC：対話誘導型

### フェーズ2：評価（各5段階）
- 実行可能性
- 出力品質予測
- 柔軟性・応用性
- コンテキスト活用度

### フェーズ3：統合版作成
評価を踏まえ最適要素を組み合わせた最終版を設計

## 出力形式

### パターンA：シンプル型
```
[プロンプト本文]
```
評価：[スコアとコメント]

### パターンB：構造化型
```
[プロンプト本文]
```
評価：[スコアとコメント]

### パターンC：対話型
```
[プロンプト本文]
```
評価：[スコアとコメント]

### 推奨版：統合プロンプト
```
[最終プロンプト]
```

**設計根拠**
- 構成の選択理由
- 各要素の役割
- 想定される強み/弱み
```

---

### 【テンプレート4】検証・改善用

```markdown
# プロンプト実行結果の分析と改善

## あなたの役割
品質保証エンジニアとして、実行結果を分析し改善点を特定します。

## 実行内容

### 入力情報
**使用プロンプト**
```
[実際のプロンプト]
```

**実行結果**
```
[AIの出力]
```

**ユーザーフィードバック**
```
[満足度、不足点、ギャップ]
```

### 分析タスク
1. 目的達成度評価
2. ギャップ分析（期待vs結果）
3. 原因特定（コンテキスト/構造/解釈）
4. 改善提案3案

## 出力形式

### 評価サマリー
```
達成度：[0-100%]
成功点：[箇条書き]
課題点：[箇条書き]
```

### 改善提案

**提案1：[修正タイプ]**
```
[修正後のプロンプト]
```
期待効果：[具体的改善内容]

**提案2：[修正タイプ]**
```
[修正後のプロンプト]
```
期待効果：[具体的改善内容]

**提案3：[修正タイプ]**
```
[修正後のプロンプト]
```
期待効果：[具体的改善内容]

### 推奨アクション
[次にすべきこと]
```

---

## 使用ガイド

### 基本フロー

```
1. 意図解析（テンプレート1）
   ↓ ユーザーの真のニーズ特定
   
2. コンテキスト構造化（テンプレート2）
   ↓ 情報を体系的に整理
   
3. プロンプト設計（テンプレート3）
   ↓ 複数案から最適版を作成
   
4. 検証・改善（テンプレート4）
   ↓ 必要に応じて2-3に戻る
   
完成
```

### 活用パターン

**簡易版**（小規模タスク）
```
テンプレート1 → テンプレート3（パターンA）→ 完了
```

**標準版**（一般的ケース）
```
テンプレート1 → 2 → 3 → 4（1回）→ 完了
```

**徹底版**（複雑プロジェクト）
```
全テンプレート使用 + 再帰的改善ループ
```

### 重要ポイント

**✅ やるべきこと**
- 背景を推測し真の意図を探る
- 各段階でユーザー確認を取る
- 過去の会話履歴を活用
- 小さな改善の積み重ね

**❌ 避けるべきこと**
- 完璧主義による分析麻痺
- 過度に複雑な設計
- ユーザー不在の改善
- 一度で完成を目指す

---

## 成功基準チェックリスト

- [ ] ユーザーの真の意図を捉えているか
- [ ] コンテキストは十分に整理されているか
- [ ] プロンプトは実際に実行可能か
- [ ] 出力は期待に沿っているか
- [ ] 改善サイクルが機能しているか
- [ ] 再利用・応用可能な形になっているか

---

**さあ、始めましょう！**

具体的な課題を教えていただければ、最適なテンプレートの組み合わせを提案します。
どのステップから始めたいですか？

````
