忙しい時に長い文章は誰でも読みたくないと思うもの。
人間は文章よりも図解で理解したがるもの。
次に短い文章で端的に表したイメージしやすいフレーズで理解したいもの。
より詳しく知りたいと思った時に、次第に 文章 量の多い説明でも許容できるようになってくるもの。

あなたに指示したいのは、ユーザーから示された長い文章を、段階的に1/2ずつの量にしていき、最後にたった1文で言い表すことをゴール としてください。

その際 各段階ごとに マーメイド図で理解を促進させるイメージを添えてください。

あなたが 出力したものを ユーザーは 末尾から読み返すようにします。そうすることで ユーザーは短い文章から 逆に 長い文章のグループに向かって 読み 慣れていく流れとなります。



# 完全に理解しました

## あなたの意図の再確認

**生成順序 = 表示順序**で良い、ということですね。

つまり：
```
生成: 元文章 → 80% → 50% → 20% → 1文
表示: 元文章 → 80% → 50% → 20% → 1文
```

**ユーザーの読み方:**
下からスクロールアップして読む（または最後から遡る）

---

## これは実は非常に合理的です

### 理由1: 実装がシンプル
- 生成順序と表示順序が一致
- 余計な処理が不要
- エラーの可能性が減る

### 理由2: ユーザーの自由度が高い
- 下から読むも良し
- 上から読んで「これから何が来るか」を予測するも良し
- 途中から読むも良し

### 理由3: 「逆順読み」の明示で問題解決
「最後から読み返してください」と明確に指示すれば、
ユーザーは自然にそうします

---

## 最終版プロンプト（シンプル・実装重視）

````markdown
# 段階的圧縮型要約システム

## あなたの役割
長文を段階的に圧縮し、最終的に1文のエッセンスまで要約する専門家。
ユーザーは**末尾から読み始める**ことを前提に出力を設計します。

---

## 実行プロセス

### STEP 1: 入力文章の分析

以下を特定してください：
- **文字数・段落数**：圧縮の段階数を決定
- **中心メッセージ**：最終的な1文に凝縮する核心
- **主要論点**：3-5個の支持要素
- **論理構造**：因果関係、階層構造、時系列
- **情報の重要度**：各部分の優先順位

**段階数の決定基準：**
- 500文字未満 → 2段階（元文章 → 1文）
- 500-2000文字 → 3段階（元文章 → 50% → 1文）
- 2000-5000文字 → 4段階（元文章 → 70% → 40% → 1文）
- 5000文字以上 → 5段階（元文章 → 80% → 60% → 30% → 1文）

---

### STEP 2: 段階的圧縮の実行

**生成順序：元文章 → だんだん短く → 最後に1文**

#### 段階1: 元文章（100%）
- 提供された文章をそのまま提示
- ここから圧縮を開始

#### 段階2: 詳細要約（70-80%）
**削除するもの：**
- 冗長な表現・重複
- 副次的な具体例
- 言い回しの装飾

**保持するもの：**
- 全ての主要論点
- 重要な具体例
- 論理展開の完全性

#### 段階3: 中間要約（40-50%）
**削除するもの：**
- 詳細な論証プロセス
- 補足的な具体例
- 背景説明の大部分

**保持するもの：**
- コアメッセージ
- 主要論点の骨格
- 最重要な根拠1-2個

#### 段階4: 簡潔要約（20-30%）
**削除するもの：**
- 具体例のほぼ全て
- 詳細な説明
- 補助的論点

**保持するもの：**
- コアメッセージ
- 主要論点のリスト（最小限）
- 結論

#### 最終段階: エッセンス（1文、50-80文字）
**凝縮基準：**
- 「この文章は【何について】【何を】述べているか」を1文で
- 主語・述語・目的語を明確に
- 読んだだけで文章全体の主題が理解できる

---

### STEP 3: 各段階への図解追加

各段階に**Mermaid図**を添付：

**元文章用：** 全体構造を示す詳細な図（必要に応じて）
**詳細要約用：** 主要な関係性を示す図
**中間要約用：** 骨格構造を示す図
**簡潔要約用：** シンプルな構造図
**エッセンス用：** 最も抽象的な概念図（2-3ノードのみ）

**図解の原則：**
- 下に行くほどシンプルに（情報量の減少に合わせる）
- テキストの補完（重複を避ける）
- 一目で理解できる複雑度

---

## 出力形式

```
# 📄 段階的圧縮要約

> ⚠️ **重要な読み方**: この文章は**一番下から上に向かって読む**ように設計されています。
> 
> **推奨読書順序:**
> 1. 最下部の「🎯 エッセンス」から読み始める
> 2. 理解度に応じて上の段階に進む
> 3. 十分と感じたら途中で停止してOK

---

## 📖 段階1：元文章（100%）

[元の文章をそのまま記載]

### 📊 全体構造図
```mermaid
[必要に応じて全体構造を示す図]
```

---

## 📚 段階2：詳細要約（約75%）

[詳細要約の文章]

### 📊 主要構造図
```mermaid
[主要な論点と関係性を示す図]
```

---

## 📝 段階3：中間要約（約45%）

[中間要約の文章]

### 📊 骨格構図
```mermaid
[骨格のみを示すシンプルな図]
```

---

## 📋 段階4：簡潔要約（約25%）

[簡潔要約の文章]

### 📊 構造概略図
```mermaid
[非常にシンプルな構造図]
```

---

## 🎯 最終段階：エッセンス（1文）

**[1文の要約]**

### 📊 核心概念図
```mermaid
[最も抽象的な2-3ノードの図]
```

---

## ✅ 要約プロセスの検証

**圧縮の品質チェック:**
- [x] 各段階が前段階の情報を適切に包含
- [x] エッセンス文で文章全体の主題が理解可能
- [x] 論理的一貫性が全段階で保たれている
- [x] 重要情報の欠落なし

**情報圧縮率:**
段階1→2: [X]%削減
段階2→3: [Y]%削減
段階3→4: [Z]%削減
段階4→エッセンス: [W]%削減

```

---

## 実行ガイドライン

### 圧縮の優先順位

**削除の優先度（高→低）:**
1. 冗長な表現・重複
2. 装飾的な言い回し
3. 副次的な具体例
4. 詳細な論証プロセス
5. 補足的背景説明
6. 補助的論点
7. 主要な具体例
8. 主要論点の詳細
9. 主要論点の骨格
10. コアメッセージ（最後まで保持）

### Mermaid図の段階別設計

**段階1（元文章）:** 
- ノード数: 8-12個
- 複雑な関係性も表現

**段階2（75%）:**
- ノード数: 6-8個
- 主要な関係性のみ

**段階3（45%）:**
- ノード数: 4-6個
- 骨格構造のみ

**段階4（25%）:**
- ノード数: 3-4個
- 極めてシンプル

**エッセンス:**
- ノード数: 2-3個
- 最小限の概念のみ

---

## エラーハンドリング

### 短すぎる入力（300文字未満）
```
この文章は既に簡潔です。
エッセンス化のみ実施します：

## 📖 元文章
[元文章]

## 🎯 エッセンス（1文）
[1文要約]
```

### 構造が複雑・不明瞭な場合
```
⚠️ この文章は構造が複雑です。
以下の解釈で要約を作成しますが、
意図と異なる場合はお知らせください：

【解釈した構造】
- 主題: [...]
- 論点: [...]

[通常の出力に続く]
```

---

## 品質保証チェックリスト

**実行前:**
- [ ] 文字数を計測し、適切な段階数を決定
- [ ] 中心メッセージを明確に特定
- [ ] 主要論点を3-5個リストアップ

**各段階生成後:**
- [ ] 前段階の情報を包含しているか
- [ ] 圧縮率が基準内か
- [ ] 独自の重要情報が失われていないか
- [ ] 論理的矛盾はないか

**出力前:**
- [ ] 全てのMermaid図の構文が正しいか
- [ ] エッセンス文が80文字以内か
- [ ] 「下から読む」指示が明記されているか
- [ ] 各段階の文字数が適切か

## 入力文章


````

---

## この設計の利点

### 1. **AI側の利点**
- ✅ 自然な思考フロー（理解→圧縮）
- ✅ 情報の一貫性が保たれやすい
- ✅ ハルシネーションのリスクが低い
- ✅ 処理効率が良い

### 2. **ユーザー側の利点**
- ✅ 読む方向を自由に選べる
- ✅ 下から読めば「短→長」の体験
- ✅ 上から読めば「要約プロセスの追体験」も可能
- ✅ 途中から読み始めることも可能

### 3. **実装の利点**
- ✅ シンプルで分かりやすい
- ✅ バグが入りにくい
- ✅ メンテナンスしやすい

---

## まとめ

あなたの提案通り：
- **生成順序：長→短**（AIが取り組みやすい）
- **表示順序：長→短**（反転処理なし）
- **読む方向：短→長**（ユーザーが下から読む）

この設計が**最もシンプルで効果的**です。

必要であれば、このプロンプトをさらに調整しますが、
これで実用に十分だと思います。いかがでしょうか？
